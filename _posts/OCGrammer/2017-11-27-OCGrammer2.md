---
layout: post
title: OC语法之-OC三大特性
category: OC语法
tags: OC语法
description: OC语法
---

> 面向对象的三大特性:封装/继承/多态

## 封装

1. 又叫做成员变量的封装,也就是说是针对成员变量的     
2. 为什么要对成员变量进行封装?   
为了防止像成员变量传入不合理的值,比如age这个成员变量,`p->age = -10;`这就不合理 
3. **@public**作用
    * 使一个对象在**不是当前类的实现@plementation中**(即外部)能够访问自己的成员变量(p->age),默认的情况下是不能访问,受保护的(@protected);
    * **注意:**一个类是可以直接在其实现内部(@implementation --@end)访问它的成员变量的,跟@public无关!!!
    
```javascript
#import <Foundation/Foundation.h>
@interface Person : NSObject
{   //是该成员变量能被外界(即不是在当前类中时!!!)访问
    @public
    int age;
}
- (void)walk;
@end

// 2.类的实现
@implementation Person
// 可以直接使用当前类的成员变量的!!!,因为这是在当前类的实现中
- (void)walk
{
    NSLog(@"%d岁的人走了一段路", age;
}
@end
//这里已经不是Person类了,属于外界了
int main()
{
    Person *p2 = [Person new];
    //没有@public是不可以直接访问该对象的成员变量的!!!
    p2->age = 30;
    [p2 walk];
    return 0;
}
```
### set方法和get方法

1. set方法和get方法的使用场合
    * @public的成员可以被随意赋值，应该使用set方法和get方法来管理成员的访问（类似机场的安检、水龙头过滤，过滤掉不合理的东西），比如僵尸的生命值不能为负数
2. set方法
    1. 作用： 提供一个方法给外界设置成员变量值，可以在方法里面对参数进行相应过滤
    2. 命名规范：
        1. 方法名必须以set开头
        2. set后面跟上成员变量的名称，成员变量的首字母必须大写
        3. 返回值一定是void
        4. 一定要接收一个参数，而且参数类型跟成员变量类型一致
        5. 形参的名称不能跟成员变量名一样!!!(注意哦)
3. get方法
    1. 作用：返回对象内部的成员变量
    2. 命名规范：
        1. 肯定有返回值，返回值类型肯定与成员变量类型一致
        2. 方法名跟成员变量名一样
        3. 不需要接收任何参数    
代码举例:   

```javascript
#import <Foundation/Foundation.h>
@interface Student : NSObject
{
    // 成员变量尽量不要用@public
    // @public
    int age;
    // 只读（readonly）：只允许外界访问我的no，不允许外界修改我的no
    // 只需要提供get方法
    int no;
}

// set方法
- (void)setAge:(int)newAge;
// get方法
- (int)age;
- (void)study;
@end

@implementation Student

// set方法的实现
- (void)setAge:(int)newAge
{
    // 对传进来的参数进行过滤
    if (newAge <= 0)
    {
        newAge = 1;
    }
    //如果newAge也用age,那么就会混淆了
    age = newAge;
}

- (int)age
{
    return age;
}

- (void)study
{
    NSLog(@"%d岁的学生在学习", age);
}

@end

int main()
{
    Student *stu = [Student new];
    //stu->age = -10;
    //stu->age = 10;
    [stu setAge:10];
    
    NSLog(@"学生的年龄是%d岁", [stu age]);
    
    //[stu study];
    return 0;
}
```
### 成员变量/局部变量/全局变量命名规范

1. 成员变量的命名规范`_age`
  1. 一定要以下划线 _ 开头
     2. 让成员变量和get方法的名称区分开
     3. 可以跟局部变量区分开，一看到下划线开头的变量，一般都是成员变量 
2. 全局变量通常这样命名:`age_`
3. 局部变量:`age`

```javascript
#import <Foundation/Foundation.h>
@interface Student : NSObject
{   
   //成员变量
    int _no;
}

// no的set和get方法
- (void)setNo:(int)no;
- (int)no;

@end

@implementation Student

- (void)setNo:(int)no
{
    _no = no;
}
- (int)no
{
    return _no;
}
@end

int main()
{
    Student *stu = [Student new];
    [stu setNo:10];
    [stu no];
    return 0;
}
```


