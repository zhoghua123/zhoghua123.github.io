---
layout: post
title: 第二章：flex布局
category: 小程序开发
tags: 小程序
description: 小程序开发
--- 

## 简介
1. flex布局（Flexible布局，弹性布局）是在小程序开发经常使用的布局方式
2. 官方文档
    1. [https://www.w3.org/TR/css-flexbox-1/](https://www.w3.org/TR/css-flexbox-1/)
    2. [https://www.w3.org/TR/css-align-3/](https://www.w3.org/TR/css-align-3/)
    3. W3C是一个组织，专门用于制定html、css规范的组织
3. **flex container与flex items的概念**
    1. 开启了flex布局的元素叫 **flex container**
        1. 一旦一个元素使用了flex布局就要他flex容器（flex container）
    2. flex container 里面的**直接子元素**叫做 **flex items**
4. 如何开启flex布局？
    1. 设置display属性为flex或者inline-flex 可以成为flex container
        1. flex：flex container以block-level （块级元素）形式存在
        2. inline-flex：flex：flex container以inline-level（行内元素）形式存在
    2. 注意：块级、行内块级、行内标签之前的区别

## 常用CSS属性
1. 应用在 flex container 上的CSS属性
    
    ```
    flex-flow 
    flex-direction 设置主轴方向
    flex-wrap
    justify-content
    align-items
    align-content
    ```
2. 应用在flex items上的CSS属性
    
    ```
    flex
    flex-grow
    flex-basis
    flex-shrink
    order
    align-self
    ```

### flex 布局模型
![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/xcxpic07.png)

1. 1个flex container内部有2个 flex items

### flex-direction
1. flex items 默认都是沿着main axis（主轴）从main start开始往main end 方向排布
2. flex-direction 决定了main axis 的方向，有4个取值
    1. row（默认值）、row-reverse、column、column-reverse
    
![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/xcxpic08.png)

### justify-content
1. justify-content决定了flex items 在main axis上的对齐方式
    1. flex-start（默认值）：与main start 对齐
    2. flex-end：与main end对齐
    3. center：居中对齐
    4. space-between：
        1. flex items 之间的距离相等
        2. 与main start、main end两端对齐
    5. space-evenly：
        1. flex items之间的距离相等
        2. flex items与main start、main end之间的距离等于flex items之间的距离
    6. space-around：
        1. flex items之间的距离相等
        2. flex items与main start、main end之间的距离是flex items之间距离的一半

        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/xcxpic09.png)

### align-items
1. align-items决定了flex items在 cross axis上的对齐方式
    1. stretch(默认值): 当flex items在cross axis方向的size为auto时，会自动拉伸至填充flex container
    2. flex-start: 与 cross start对齐
    3. flex-end：与 cross end 对齐
    4. center：居中对齐
    5. baseline: 与基准线对齐
    
    ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/xcxpic10.png) 

### flex-wrap
1. flex-wrap决定了flex container是单行还是多行
2. nowrap（默认）：单行
3. wrap：多行
4. wrap-reverse：多行（对比wrap，cross start与cross end相反）

### flex-flow
1. flex-flow是flex-direction || flex-wrap的简写
    1. 比如 flex-flow: column wrap 等价于
        1. flex-direction： column
        2. flex-wrap： wrap
    2. 比如 flex-flow: row-reverse 等价于
        1. flex-direction： row-reverse
        2. flex-wrap： nowrap
    3. 比如 flex-flow: wrap 等价于
        1. flex-direction： row
        2. flex-wrap： wrap

### align-content
1. align-content决定了多行flex items在cross axis上的对齐方式，用法与justify-content类似
    1. stretch:（默认值）与align-items的stretch类似
    2. flex-start: 与cross start对齐
    3. flex-end：与 cross end对齐
    4. center：居中对齐
    5. space-between：
        1. flex items之间的距离相等
        2. 与cross start、cross end两端对齐
    6. space-evenly：
        1. flex items之间的距离相等
        2. flex items与cross start、cross end之间的距离等于flex items之间的距离
    7. space-around：
        1. flex items之间的距离相等
        2. flex items与cross start、cross end之间的距离是flex items之间距离的一半

![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/xcxpic11.png) 

### order
1. order决定了flex items的排布顺序
    1. 可以设置任意整数（正整数、负整数、0),值越小就越排在前面
    2. 默认值是0

### align-self
1. flex items可以通过align-self覆盖flex container设置的align-items
    1. auto(默认值): 遵从flex container的align-items设置
    2. stretch、flex-start、flex-end、center、baseline，效果跟align-items一致

### flex-grow
1. flex-grow决定了flex items如何扩展
    1. 可以设置任意非负数字（正小数、正整数、0），默认值是0
    2. 当flex container在main axis方向上有剩余size时，flex-grow属性才会有效
2. 如果所有flex items的flex-grow总和sum超过1，每个flex item扩展的size为
    1. flex container的剩余size*flex-grow/sum
3. 如果所有flex items的flex-grow总和sum不超过1，每个flex item扩展的size为
    1. flex container的剩余size*flex-grow
4. flex item扩展后的最终size不能超过max-width\max-height

### flex-shrink
1. flex-shrink决定了flex items如何收缩
    1. 可以设置任意非负数字（正小数、正整数、0），默认值是1
    2. 当flex items在main axis方向上超过了flex container的size，flex-shrink属性才会有效
2. 如果所有flex items的flex-shrink总和超过1，每个flex item收缩的size为
    1. flex items超出flex container的size*收缩比例/所有flex items的收缩比例之和
3. 如果所有flex items的flex-shrink总和sum不超过1，每个flex item收缩的size为
    1. flex items超出flex container的size * sum *收缩比例/所有flex items的收缩比例之和
4. 收缩比例 = flex-shrink * flex item的base size
    1. base size 就是 flex item 放入flex container之前的size
5. flex item收缩后的最终size不能小于min-width\min-height

### flex-basis
1. flex-basis用来设置flex items在main axis方向上的base size
    1. auto（默认值）、content：取决于内容本身的size 
2. 决定flex items最终base size的因素，从优先级高到低
    1. max-width\max-height\min-width\min-height
    2. flex-basis
    3. width\height
    4. 内容本身的size

### flex
1. flex是flex-grow flex-shrink ? || flex-basis 的简写
    1. 默认值是 0 1 auto
    2. none：0 0 auto



