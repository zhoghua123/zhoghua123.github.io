---
layout: post
title: 第九章：小程开发-知识点点积累
category: 小程序开发
tags: 小程序
description: 小程序开发
--- 

#### 1.页面逆向传值：
1. A页面：
    
    ```
    //index.wxml
    <button bindtap="view_detail" type="primary">打开页面</button>
    //index.js
    Page({
        data: {
        },
        onLoad() {
        },
        view_detail(e) {
            wx.navigateTo({
                url: `/pages/index/detail`,
                events: {
                    // 打开页面回传操作
                    back: function (data) {
                        console.log('回传数据：', data);
                    }
                }, 
                success: function (res) {
                    // 通过eventChannel向被打开页面传送数据
                    res.eventChannel.emit('lalala', {
                        data: '传给你'
                    })
                }
            });
        },
    });
    ```
2. B页面：
    
    ```
    //index.wxml
    <button type="primary" bindtap="add_back">反馈一下</button>
    //index.js
    Page({
        data: {
        },
        onLoad(options) {
            let eventChannel = this.getOpenerEventChannel();
            // 监听aishang事件，获取上一页面通过eventChannel传送到当前页面的数据
            eventChannel.on('lalala', function (data) {
                console.log('上页传来的参数：', data);
            })
        },
        add_back: function () {
            let eventChannel = this.getOpenerEventChannel();
            eventChannel.emit('back', {
                data: '接收到了'
            })
        }
    });
    ```



