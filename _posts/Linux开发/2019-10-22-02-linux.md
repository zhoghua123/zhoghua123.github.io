---
layout: post
title: Linux的编辑器、编译器、库
category: Linux开发
tags: Linux开发
description: Linux开发
---

## 编辑器      

### gedit编辑器
1. gedit是一个Linux环境下的文本编辑器，类似windows下的写字板程序（右击新建文本文档），在不需要特别复杂的编程环境下，作为基本的文本编辑器比较合适。
2. 使用： `gedit 1.txt`
    1. 创建一个1.txt文件在gedit环境下编辑。
    
### VI编辑器
1. vi介绍
    1. vi 编辑器是 Linux 系统中最常用的文本编辑器，vi 在Linux界有编辑器之神的美誉，几乎所有的 Linux 发行版中都包含 vi 程序。
    2. vi 工作在字符模式下，不需要图形界面，非常适合远程及嵌入式工作，是效率很高的文本编辑器，尽管在 Linux 上也有很多图形界面的编辑器可用，但vi的功能是那些图形编辑器所无法比拟的。
    3. vim 是 vi 的升级版，它不仅兼容 vi 的所有指令，而且还有一些新的特性，例如 vim 可以撤消无限次、支持关键词自动完成、可以用不同的颜色来高亮你的代码。vim 普遍被推崇为类 vi 编辑器中最好的一个。
    4. **vi有输入和命令三种工作模式**。
        
        ![图4](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/linux-03.png)
        
        1. 命令模式: 
            1. 执行命令，用来运行一些编排文件、存档以及离开vi等操作命令。
            2. **当执行 “vi 文件名” 后，首先进入命令模式，此时输入的任何字符都被视为命令**。
            3. 比如输入 `i`则进入编辑模式
        2. 输入模式（也叫插入模式/编辑模式）: 
            1. 用于输入字符。
            2. 在命令模式下,键盘键入i可以进入该模式
            3. 键入esc则返回命令模式
        3. 末行模式: 
            1. 在命令模式下输入”:“则就进入末行模式了，可以在末行输入命令，回车，则执行命令
            2. 如果输入了": xxx",想要返回命令模式，则按2次esc即可切入到命令模式
        4. **注意：编辑模式不能直接切换到末行模式！**
2. vi最基本操作
    1. 打开文件
        1. `vi filename`：打开或新建文件，并将光标置于第一行行首，如果文件不存在，则会新建文件。
    2. 编辑文件
        1. 如果通过vi打开一个已经存在的文件，首先进入命令模式，此时输入的任何字符都被视为命令，不能输入内容。
        2. 按i既可以进入插入模式，可以编辑内容。按esc即可退出插入模式，进入命令模式。
    3. 保存文件
        1. 一定要先退出插入模式(按Esc进入命令模式)，然后，`shift + zz （按住 “shift” + 按两下“z”键）` 即可保存退出当前文件。
3. 常用命令
    1. 命令模式下常用的命令：
        1. 光标的位置：(hjkl)
            
            ```
            hjkl:正好在键盘上连续的4个键
            h：光标往前移动
            l：光标往后移动
            j：光标向下移动
            k：光标向上移动
            0：光标移动到行首
            $(shift+4): 光标移动到行尾部
            gg：光标移动到文件开始位置
            shift：光标移动到文件最后一行开始位置
            ```
        2. 删除
            
            ```
            x：删除光标位置的字符
            nx：删除光标后n个字符
            X: 删除光标位置前面的字符
            nX：删除光标前n个字符
            dw: 删除整个单词（将光标移动到单词第一个位置）
            d0：删除光标前面所有的字符
            d$(或者shif+d，即D)：删除光标后面所有的字符
            dd：删除光标所在的行
            ndd：从光标开始的哪一行，连续删除n行
            ``` 
        3. 撤销
            
            ```
            u：撤销删除
            ctrl+r：反撤销
            ```
        4. 复制、粘贴（注意：vi中的删除不是删除，而是剪切）
            
            ```
            p: 粘贴到光标所在行下面
            P(大写)：粘贴到光标所在行
            yy：复制光标所在行
            npp：复制光标所在行的n行
            ```
        5. 可视模式、查找
            1. 目的：想要复制、删除某一段内容
            2. 步骤：
                1. 输入'v'进入可是模式
                2. 通过：`hjkl`移动原则目标内容
                3. 输入`d`删除或者`y`复制选中的内容
                4. 将光标移动到某个位置，按下`p`粘贴即可
        6. 查找
            
            ```
            /+查找内容: 从光标位置向下查找，然后输入回车，接着输入n，切换查找到的每一个内容
            ？+查找内容：从光标位置向上查找
            ```
        7. 缩进
            
            ```
            << : 向左缩进
            >> : 向右缩进
            ```
        8. 保存退出
            
            ```
            ZZ(shift+z+z)	保存退出
            ```
    2. 编辑模式
        1. 主要是怎样从命令模式下进入编辑模式(简记: 啊 ios)
            
            ```
            a	光标位置右边插入文字
            A	光标所在行尾插入文字
            i	光标位置前面插入文字
            I	光标所在行首插入文字
            o(字母)	光标位置下方开启新行
            O(字母)	光标位置上方开启新行
            s：删除光标所在的那个字符，然后插入文字
            S：删除光标所在行的内容，然后插入文字
            ```
    3. 末行模式
        1. 命令模式下输入":"进入末行模式
        2. 替换
            
            ```
            :n+回车： 直接跳转到n行
            :s/p1/p2	将当前行中定义一个p1用p2替代
            :s/p1/p2/g	将当前行中所有p1均用p2替代
            :g/p1/s//p2/g	将文件中所有p1均用p2替代
            :n1,n2s/p1/p2/g	将n1到n2行中所有p1均用p2替代
            ```
        3. 保存、退出
            
            ```
            :wq	保存退出
            :x(小写)	保存退出
            :w filename 保存到指定文件
            :q	退出，如果文件修改但没有保存，会提示无法退出
            :q!	退出，不保存
            :!命令	暂时离开vi，执行命令
            ```
        4. set命令
            
            ```
            :set ic	搜寻时忽略大小写
            :set noic	搜寻时不忽略大小写
            :set nu	显示行号
            :set nonu	不显示行号
            ```
        5. 分屏
            
            ```
            :sp 上下分屏 ctrl+ww光标上下切换
            :vsp 垂直分屏
            ```

## gcc编译器
1. 简介
    1. gcc是linux下的一款文本编译器。
2. gcc编译的4个阶段
    ![图4](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/linux-04.png)
    
    1. 预处理
        1. 把头文件展开
        2. 宏替换，把代码中用到的宏都替换成内容。
        3. 删除注释
        4. 生产`.i`文件
    2. 编译
        1. 把`.i`文件编译成汇编文件`.s`
    3. 汇编
        1. 把汇编文件`.s`汇编成二进制文件`.o`
    4. 链接
        1. 把所有的`.o`文件放到一起，打包成可执行程序
3. gcc常用的参数
    
    ```
    -I 头文件路径: 当sum.c导入的后文件不在同一目录下时，需要指定头文件的路径：-I 头文件路径，比如： gcc sum.c -I ./include -o app
    -D 宏名： 当我们需要调试程序，在某个宏存在的时候才会输出时(条件编译)，比如: gcc sum.c -I ./include -D DEBUG
    -O+数字：有3个等级1、2、3，代码的优化程度，比如： gcc sum.c -I ./include -D DEBUG -O3
    -Wall: 编译时输出警告信息
    -g： 程序输出调试信息
    ```
    
    1. 代码举例：
    
        ```
        #include<stdio.h>
        int main(){
                int a = 10;
                int b = 20;
                int c = a+b;
        //没有使用-D DEBUG，则执行是不会输出sum=30
        #ifdef DEBUG
                printf("sum=%d",c);
        #endif
                return 0;
        }
        ```


## 库



