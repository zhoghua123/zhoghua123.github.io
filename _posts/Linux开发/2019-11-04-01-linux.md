---
layout: post
title: Linux系统IO函数
category: Linux开发
tags: Linux开发
description: Linux开发
--- 

### linux下应用层的系统I/O函数
4. lseek函数
    1. 作用：
        1. 获取文件大小
        2. 移动文件指针
        3. 文件拓展
    2. 使用：
        
        ```
        #include<stdio.h>
        #include<stdlib.h>
        #include<sys/types.h>
        #include<sys/stat.h>
        #include<fcntl.h>
        #include<unistd.h>
        
        int main()
        {
            int fd = open("aa",O_RDWR);
            if(fd == -1)
            {
                perror("open");
                exit(1);
            }
            //获取文件长度
            int ret = lseek(fd,0,SEEK_END);
            printf("file len = %d \n",ret);
            
            //文件拓展:把一个文件拓展成更大的文件。
            //从文件最后拓展2000byte
            int ret2 = lseek(fd,2000,SEEK_END);
            printf("return value %d \n",ret2);
            //实现文件拓展，必须在最后作一次写的操作
             
            write(fd,"a",1);
             
            close(fd);
            return 0;
        }
        ```



