---
layout: post
title: JavaEE开发-第四节 JUint
category: Java后端开发
tags: Java后端开发
description: Java后端开发
--- 

## JUint
1. 单元测试使用的场景：
    1. 如果一个类中有n个函数，我们想单独测试这些函数怎么办呢？ 
    2. 通常我们可以在这个类中新增main方法，在main方法中调用相应的函数。
    3. 缺点：每个类都要写，而且侵入源代码
    4. 那么此时就出现了一种能够解决这种缺点的方法---单元测试
2. JUnit是Java中最常用的单元测试开源框架,本课程使用的是4.13版本
3. 所需要的jar包
    1. junit-4.13
    2. ham crest-core-2.2
    3. ham crest-2.2
4. 建议单元测试类的命名格式为：XxTest

### 常用注解

```
@Test：正常的测试方法，建议格式是public void testXx()
@Before：在每个@Test方法执行之前执行,建议格式是public void before()
@After：在每个@Test方法执行之后执行，建议格式是public void after()
@BeforeClass：在第一个@Test方法执行之前执行,建议格式是public static void beforeClass()
@AfterClass：在最后一个@Test方法执行之后执行，建议格式是public static void afterClass()
```

### 断言类Assert的常用方法

```
assertTrue
assertFalse
assertEquals
assert Not Equals
assertNotNull
assertNull
```

### 代码举例
1. 新建一个test文件夹与src同级文件夹
    1. 右击击项目文件名->new -> Directory
    2. 这仅仅是一个普通文件夹，不会进行编译
2. 右击test文件夹->Mar Directory as ->Test Sources Root,表示该文件仅仅是用来测试，不需要打包
3. 在这个文件夹中添加测试类CustomerDaoTest，专门用于测试CustomerDao类的成员方法
    
    ```
    //左边会有个三角形，点击会执行这个类中所有带@Test的方法
    public class CustomerDaoTest {
        private static CustomerDao dao;
    
        @Before
        public void before() {
            System.out.println("before");
        }
    
        @After
        public void after() {
            System.out.println("after");
        }
        
        //通常方资源的初始化
        @BeforeClass
        public static void beforeClass() {
            dao = new CustomerDao();
            System.out.println("beforeClass");
        }
    
        @AfterClass
        public static void afterClass() {
            System.out.println("afterClass");
        }
    
    
        @Test
        public void testSave() {
            Customer customer = new Customer();
            customer.setName("张武");
            customer.setAge(20);
            customer.setHeight(1.89);
    
            Assert.assertTrue(dao.save(customer));
        }
    
        //用来测试，左边会有个执行三角形，点击即可执行
        @Test
        public void testList() {
            List<Customer> customers = dao.list();
            Assert.assertTrue(customers.size() > 0);
        }
    }
    ```


