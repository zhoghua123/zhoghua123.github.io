---
layout: post
title: CSS第七篇：CSS属性-定位
category: HTML与CSS
tags: HTML与CSS
description: HTML与CSS
--- 



## 标准流（Normal Flow）
1. 默认情况下，元素都是按照normal flow进行定位的
    1. 从上到下，从左到右按顺序摆放好
    2. 相互之间不存在层叠现象
2. margin、padding定位
    1. 在标准流中，可以使用margin、padding对元素进行定位
        1. 其中margin还可以设置负数
    2. 比较明显的缺点是：
        1. 设置一个元素的margin或者padding，通常会影响到标注流中其他元素的定位效果
        2. 不便于实现元素的层叠效果
        3. 也就是说一个元素位置移动了，其他元素就会侵入他移动的位置

## CSS属性-Position
1. 利用position可以对元素进行定位，常用取值有4个
    1. static：静态定位
    2. relative：相对定位
    3. absolute：绝对定位
    4. fixed：固定定位

### relative-相对定位
1. 元素按照normal flow布局
2. 可以通过left、right、top、bottom进行定位
    1. 定位参照的对象**是元素自己原来的位置**
    2. 也就是说尽管元素的位置移动了，他原来的的位置还占据这，不允许其他元素侵入
3. left、right、top、bottom用来设置元素的具体位置，对元素的作用如下图所示：
    
    ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_30.png)
4. 相对定位一般**用于**对元素位置微调
    1. 在不影响其他元素位置的前提，对当前元素位置进行微调
5. 相对定位与margin定位效果如下
    1. 给元素设置`position: relative;`
    2. 给元素设置left、right、top、bottom值
    3. 代码举例：
        
        ```
         div {
            width: 100px;
            height: 100px;
        }
        .div1 {
            background-color: #ff0;
        }
        .div2 {
            background-color: #f00;
            /* margin定位 */
            /* margin-top: -50px; */
            
            /* .div2 可以进行相对定位 */
            position: relative;
            top: -50px;
        }
        .div3 {
            background-color: #0f0;
        }
        
        <div class="div1">div1</div>
        <div class="div2">div2</div>
        <div class="div3">div3</div>
        ```

    ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_31.png)
6. 通过relative实现屏幕缩放，背景图片居中效果
    
    ```
    <style>
        body {
            margin: 0;
        }
        div {
            overflow: hidden;
        }
        /* 
        效果：无论怎样缩放屏幕，背景图片始终居中
        图片在div居中计算方法：（img宽度-div宽度）*0.5
        图片固定宽度为1920px，一半为960px
        解决方案：
        往左边移动图片宽度的一半
        往右边移动div元素宽度的一半
         */
        img {
            position: relative;
            /* 父元素div的宽度 * 50% */
            /* left: -50%; */

            /* 往左边移动图片宽度的一半 */
            left: -960px;
            /* 往右边移动div元素宽度的一半*/
            margin-left: 50%;
        }
    </style>
    <div>
        <img src="./images/mhxy.jpg" alt="">
    </div>
    ```

### static- 静态定位
1. position属性的默认值
2. 元素按照normal flow布局
3. left、right、top、bottom没有任何作用

### fixed-固定定位
1. 元素脱离normal flow布局（脱离标准流、脱标）
2. 可以通过left、right、top、bottom进行定位
    1. 定位参考对象是**视口**（viewport），可以简单理解为浏览器窗口
3. 当**画布**滚动时，固定不动
    1. 悬浮框的场景
4. 脱离标准流效果如下：
   
   ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_32.png) 
   
   ```
   div {
        width: 100px;
        height: 100px;
    }
    .div1 {
        background-color: #ff0;
    }
    .div2 {
        background-color: rgba(255,0, 0, 0.5);
        /* .div2 固定定位 */
        position: fixed;
        left: 0;
        top: 0;
    }
    .div3 {
        background-color: #0f0;
   }
   ```
    
#### 画布和视口
1. 视口
    1. 文档的可视区域
2. 画布（canvas）
    1. 用于渲染文档的区域
    2. 文档内容超出视口范围，可以通过滚动查看
3. 宽高对比
    1. 画布>=视口
4. 总结：
    1. 视口就是浏览器的窗口
    2. 画布就是这个窗口显示的所有内容，包括滚动显示的那部分

#### 脱标元素的特点
1. 可以随意设置宽高
2. 宽高默认由内容决定
3. 不再受标准流的约束
    1. 不再严格按照从上到下、从左到右排布
    2. 不再严格区分块级、行内级，块级、行内级的很多特性都会消失
4. 不再给父元素汇报宽高数据
5. 脱标元素内部默认还是按标准流布局

### absolute-绝对定位
1. 元素**脱离**标准流normal flow
2. 可以通过left、right、top、bottom进行定位
    1. 定位参照对象是最邻近的定位祖先元素
    2. 如果找不到这样的祖先元素，参照对象是视口
3. 定位元素
    1. position值不为static的元素
    2. 也就是position值为relative、absolute、fixed的元素

