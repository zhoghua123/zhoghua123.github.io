---
layout: post
title: CSS第五篇：CSS属性-盒子模型
category: HTML与CSS
tags: HTML与CSS
description: HTML与CSS
--- 

## 盒子模型

### 简介
1. 盒子
    1. HTML中的每一个元素都可以看做是一个盒子
2. 盒子模型（Box Model）
    1. HTML中的每一个元素都可以看做是一个盒子，如下图所示，可以具备这4个属性
    
        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_13.png) 
    
        1. 内容（content）
            1. 盒子里面装的东西
        2. 内边距（padding）
            1. 怕盒子里装的东西损坏而添加的泡沫或者其他抗震的辅料
        3. 边框（border）
            1. 就是盒子的边框，比如木盒子四周的木板
        4. 外边距（margin）
            1. 为了方便取出，盒子之间保留一定的空隙
    2. 默认的盒子模型如下图所示
        
        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_14.png) 
        
        1. 实际占用宽度 = 边框宽度（border-left+right）+内边距（padding-left+right）+内容宽度(weight)
        2. 实际占用高度 = 边框（border-top+bottom）+内边距（padding-top+bottom）+内容高度(weight)
3. 内边距相关的属性（padding）
    
    ```
    padding-left:左内边距
    padding-right:右内边距
    padding-top：上内边距
    padding-bottom：下内边距
    padding：上面四个属性的简写属性，上、右、下、左，顺时针方向
    ```
    
    1. 举例
    
        ```
        /* 上、右、下、左 */
        padding: 10px 20px 30px 40px;
        /* 上、右、下，左边等于右边 */
        padding: 10px 20px 30px;
        /* 上下、左右 */
        padding: 10px 20px;
        ```
    2. padding的取值规律
        1. 按照顺时针方向设置：top、right、bottom、left
        2. 如果缺少left，那么left就使用right的值
        3. 如果缺少buttom，那么bottom就是用top的值
4. 外边距相关的属性（margin）
    
    ```
    margin-left:左外边距
    margin-right:右外边距
    margin-top：上外边距
    margin-bottom：下外边距
    margin：上面四个属性的简写属性，上、右、下、左，顺时针方向
    ```
    
    1. 设置特点跟padding一样


### 盒子模型属性常见的技术点(关键)

#### 上下margin传递
1. margin-top传递
    1. 如果**块级**元素的**顶部线**和**块级**父元素的**顶部线**重叠，那么这个**块级**元素的margin-top值会传递给父元素
    2. 代码举例：
        
        ```
        <style>
            .div1 {
                width: 200px;
                height: 200px;
                background-color: #f00;
                /* 父元素也必须是块级，否则也不会传递 */
                /* display: inline-block; */
            }
            .div2 {
                width: 100px;
                height: 100px;
                background-color: #0f0;
                /* 子元素设置margin-top，父元素也会被传递 */
                margin-top: 40px;
                /* 如果改成非块级，就不会传递了 */
                /* display: inline-block; */
            }
        </style>
        <body>
            <div class="div1">
                <!-- 如果子元素跟父元素顶部不重叠，那么也不会传递 -->
                <!-- 123 -->
                <div class="div2"></div>
            </div>
            
        </body>
        ```
        
        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_15.png) 
2. margin-bottom传递
    1. 如果**块级**元素的**底部线**和**块级**父元素的**底部线**重叠，并且父元素的高度是auto，那么这个**块级**元素的margin-bottom值会传递给父元素
    2. 代码举例：
        
        ```
        <style>
            .div1 {
                width: 200px;
                /* 不写height就相当于是auto */
                /* height: 200px; */
                background-color: #f00;
                /* 不是块级不会传递 */
                /* display: inline-block; */
            }
            .div2 {
                width: 100px;
                height: 100px;
                background-color: #0f0;
                margin-bottom: 40px;
                /* 不是块级不会传递 */
                /* display: inline-block; */
            }
        </style>
        <body>
        <div class="div1">
            <div class="div2"></div>
            <!-- 底部不重叠，不会传递 -->
            <!-- 777 -->
        </div>
        666
        </body>
        ```
        
        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_16.png) 
        
3. 如何防止出现传递问题？
    1. 将父元素或者子元素设置为行内块级：`display: inline-block;`
    2. 给父元素设置padding-top/padding-bottom,让顶部、底部不重叠.（这里的重叠指的是content重叠）
    3. 给父元素设置border
    4. 以后理解的更深入，还会学到其他解决办法
        
        ```
        .div1 {
            width: 200px;
            height: 200px;
            background-color: #f00;
            /* 给父元素设置padding */
            /* padding-top: 1px; */
            /* 给父元素设置border */
            border: 1px solid;
        }
        ```
4. **建议**
    1. margin一般是用来设置兄弟元素之间的间距
    2. padding一般是用来设置父元素之间的间距
    3. 比如上面的子元素与父元素之间的间距，就应该设置父元素的padding，而不是设置子元素的margin
        
        ```
        .div1 {
            width: 200px;
            height: 200px;
            background-color: #f00;
            /* 父子元素，父元素用padding设置 */
            padding-top: 40px;
        }
        .div2 {
            width: 100px;
            height: 100px;
            background-color: #0f0;
            /* 子元素设置margin-top，父元素也会被传递 */
            /* margin-top: 40px; */
        }
        ```

#### 上下margin折叠
1. 垂直方向**相邻**的2个margin（margin-top、margin-bottom），有可能会合并为1个margin，这种现象叫做collapse（折叠）
2. 水平方向上的margin（margin-top、margin-bottom）永远不会collapse
3. 折叠后最终的计算规则
    1. 如果都谁**正**数，最终值是：绝对值**最大**的那个**正**数值
    2. 如果都是**负**数，最终值是：绝对值**最大**的那个**负**数值
    3. 如果**正**数、**负**数都有，最终值是：**最大正**数和**最小负**数相加
4. 如何防止margin collapse？
    1. 只设置其中一个元素的margin
    2. 条件允许的话，使用padding取代margin
    3. 以后理解的更深入，还会学到其他解决办法
5. 折叠类型
    1. 两个兄弟**块级**元素之间上下margin的折叠
        
        ```
        <style>
            div {
                width: 100px;
                height: 100px;
                background-color: #f00;
            }
            /* div1/div2同时设置，理论上应该是相加80，但是实际上合并在一起了，为40 */
            .div1 {
                margin-bottom: 40px;
            }
            .div2 {
                /* margin-top: 40px; */
                /* 正数，二者取最大值 */
                margin-top: 60px;
            }
        </style>
        <body>
        <div class="div1"></div>
        <div class="div2"></div>
        </body>
        ```
    2. 父子**块级**元素之间margin的折叠
        1. 子元素将自己的margin-top传递给父元素，子元素就没有margin-top了
        2. 最终的结果为父元素的margin-top取2这的计算值
            
        ```
        <style>
            .div1 {
                width: 200px;
                height: 200px;
                background-color: #f00;
                margin-top: 40px;
            }
            .div2 {
                width: 100px;
                height: 100px;
                background-color: #0f0;
                margin-top: 60px;
            }
        </style>
        <body>
        <!-- div2的margin-top传递给div1，最后取最大值60px -->
        <div class="div1">
            <div class="div2"></div>
        </div>
        </body>
        ```   
    3. 无内容**块级**元素内部margin的折叠（折叠是可以连续的）
        
        ```
        <style>
            .div1 {
                /* width: 200px;
                height: 200px; */
                background-color: #f00;
                margin-top: 60px;
                margin-bottom: 40px;
            }
        </style>
        <body>
        666
        <!-- <div class="div1">div</div> -->
        <!-- 只要删除内容，2个margin-top、bottom就会折叠在一起，最终是60 -->
        <div class="div1"></div>
        777
        </body>
        ```

        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_17.png) 
        
        1. 总结：**只要块级元素的上下2个margin直接接触，就会出现折叠现象**

#### border（边框）
1. 边框相关的属性
    1. 边框宽度
        ```
        border-top-width
        border-right-width
        border-bottom-width
        border-left-width
        ```
        
        1. border-width是上面4个属性的简写属性
    2. 边框的颜色
        
        ```
        border-top-color
        border-right-color
        border-bottom-color
        border-left-color
        ```
        
        1. border-color是上面4个属性的简写属性
    3. 边框样式：
        
        ```
        border-top-style
        border-right-style
        border-bottom-style
        border-left-style
        ```
        
        1. border-style是上面4个属性的简写属性
2. 边框样式的取值
    
    ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_18.png) 
    
    ```
    div {
       width: 100px;
       height: 100px;
       background-color: #f00; 

        /* 设置边框这3个都不能少 */
        /* 边框宽度 */
       /* border-left-width: 5px; */
       /* 边框颜色 */
       /* border-left-color: #0f0; */
       /* 边框样式 */
       /* border-left-style: solid; */

        /* 设置边框这3个都不能少 */
       /* border-right-width: 5px; */
       /* border-right-color: #00f; */
       /* 边框样式 :虚线*/
       /* border-right-style: dashed; */

       /* 简写 */
       /* 方式1： */
       /* border-width: 5px 4px 3px 2px;
       border-color: purple green blue yellow;
       border-style: solid dashed dotted solid; */

       /* 方式2： */
       /* border-left: 5px solid yellow;
       border-right: 5px solid blue;
       border-bottom: 5px solid green;
       border-top: 5px solid purple; */

       /* 同时设置4个方向的边框 */
       border: 5px solid blue;
       /* 设置一个边框的颜色 */
        border-right-color: green;
        border-bottom:none;
    }
    ```
3. 边框的形状
    1. 边框的形状可能是
        1. 矩形、梯形、三角形等形状
    2. 本质：通过将内容的width、height为0，然后设置边框，显示不同的形状
    
    ```
    /*梯形  */
    div {
       width: 100px;
       height: 100px;
       background-color: #f00; 
       /* 设置一个边框就是矩形，大于一个时就是梯形了 */
       border-left: 5px solid yellow;
       border-right: 5px solid blue;
       border-bottom: 5px solid green;
       border-top: 5px solid purple;
    }

    /* 三角形:注意设置的2个边框必须相邻 */
    div {
        width: 0;
       height: 0;
       /* 2个三角形 */
       /* border-top: 50px solid yellow; */
       /* 一个三角形 */
       border-top: 50px solid transparent;
       border-left: 50px solid blue;
       transform: rotate(135deg);
    }
    /* 实现双色平分 */
    div {
        background-color: #ddd;
        width: 100px;
        height: 50px;
        border-bottom: 50px solid #111;
    }
    ```

#### 行内级非替换元素注意点
1. 以下属性对**行内级非替换元素**不起作用
    
    ```
    width/height/margin-top/margin-bottom
    ```
    
    1. 举例
        
        ```
         /* 行内非替换 */
        span {
            background-color: #f00;
            /* 这4个属性都不行 */
            width: 100px;
            height: 100px;
            margin-top: 100;
            margin-bottom: 100;
            /* 可以 */
            margin-left: 40px;
            margin-right: 40px;
        }
        /* 行内替换 */
        img {
            /* 都支持 */
            width: 40px;
            height: 40px;
            margin-left: 40px;
            margin-bottom: 40px;

        }
        
        <body>
        <span>55555</span> 
        <a>999</a>
        <br>
        66666
        <img src="./images/test.png" alt="">
        </body>
        ```
2. 以下属性对**行内级非替换元素**的效果比较特殊
    1. padding-top、padding-bottom、border-top、border-bottom
        1. 设置之后，占据空间不会向外部扩张，left、right没问题
    2. 代码举例
        
        1. padding
            
            ```
            /* 行内非替换 */
            span {
                background-color: #f00;
                padding-bottom: 10px;
                padding-top: 20px;
                padding-left: 10px;
                padding-right: 20px;
            }
    
            div {
                background-color: #0f0;
                width: 100px;
                padding-top: 40px;
                padding-bottom: 40px;
            }
            <body>
            <span>55555</span> 8888
            <br>
            66666
            <div>111</div>
            777
            </body>
            ```
        2. border
            
            ```
            /* 行内非替换 */
            span {
                background-color: #f00;
                border: 10px solid yellow;
            }
    
            div {
                background-color: #0f0;
                width: 100px;
                border: 5px solid yellow;
    
            }
            <body>
            <span>55555</span> 8888
            <br>
            66666
            <div>111</div>
            777
            </body>
            ```
            
        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webzh_19.png) 


