---
layout: post
title: JS基础
category: Web开发
tags: Web开发
description: Web开发
---  

## JS简介
1. 什么是JavaScript?
    1. JavaScript简称JS，是前端开发的一门脚本语言(解释型语言)
    2. 解释型语言：
        1. 程序执行之前，不需要编译就可以直接运行, 运行时再边解析边执行的语言，即：不需要编译的语言
        2. C、C++、Java等很多语言需要编译成二进制，形成可执行文件，才能去执行
        3. 为什么JavaScript不需要编译就能够执行呢？ 
            1. 与浏览器的工作原理有关
            2. 因为浏览器有个`JavaScript Interpreter(解析者) `JavaScript解析器，专门负责解析、执行JavaScript的代码
    3. 编译型语言：程序执行之前，需要一个专门的编译过程，把程序编译成为机器语言的文件，比如exe文件
2. 浏览器的工作原理
    1. 浏览器由下面7个部分组成如下图：
    
        ![pic](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/webjs-01.png) 
    
        1. User Interface： 用户界面，包括地址栏、后退/前进按钮、书签目录等，也就是你-所看到的除了页面显示窗口之外的其他部分
        2. Browser engine： 浏览器引擎,可以在用户界面和渲染引擎之间传送指令或在客户端本地缓存中读写数据等，是浏览器中各个部分之间相互通信的核心
        3. Rendering engine：渲染引擎,用来显示请求的内容,解析DOM文档和CSS规则并将内容排版到浏览器中显示有样式的界面，也有人称之为排版引擎，我们常说的浏览器内核主要指的就是渲染引擎，即将HTML、CSS代码显示在屏幕上
        4. Networking 网络，负责发送网络请求
        5. JavaScript Interpreter(解析者) :JavaScript解析器，负责执行JavaScript的代码
            1. JavaScript解释器能够解释并执行嵌入在网页中的JavaScript（又称ECMAScript）代码。 为了安全起见，浏览器引擎或渲染引擎可能会禁用某些JavaScript功能，如弹出窗口的打开。
        6. UI Backend： UI后端，用来绘制类似组合框和弹出窗口
        7. Data Persistence(持久化)： 数据持久化，浏览器在硬盘中保存 cookie、localStorage等各种数据，可通过浏览器引擎提供的API进行调用
3. JavaScript作用
    1. HTML 提供网页上显示的内容（结构）
    2. CSS 美化网页（样式）
    3. JavaScript 控制网页行为（行为）
4. JavaScript发展史
    1. JavaScript起源于（网景）Netscape公司的LiveScript语言 
    2. 1994年网景公司发布历史上第一个比较成熟的浏览器(Navigator 0.9), 但是只能浏览不能交互
    3. 1995年为了解决表单有效性验证就要与服务器进行多次地往返交互问题，网景公司录用Brendan Eich(布兰登·艾奇)，他在 10 天内开发出 LiveScript 语言
    4. 在 Netscape Navigator 2.0 即将正式发布前，Netscape 将LiveScript 更名为 JavaScript， 目的是为了蹭Java的热度
    5. 所以Java和 JavaScript之间的关系就像老婆和老婆饼一样
5. JavaScript组成
    1. JavaScript由三部分组成
        1. ECMAScript：JavaScript的语法标准
            1. ECMA是European Computer Manufacturers Association的缩写，即欧洲计算机制造商协会
            2. ECMAScript是ECMA制定的脚本语言的标准, 规定了一种脚本语言实现应该包含的基本内容
            3. **JavaScript是脚本语言的一种,所以JavaScript也必须遵守ECMAScript标准,包含ECMAScript标准中规定的基本内容**
        2. DOM(Document Object Model)：JavaScript操作**网页**上的元素(标签)的API
        3. BOM(Browser Object Model)：JavaScript操作**浏览器**的部分功能的API
            1. 比如浏览器的前进、后退按钮、刷新等浏览器功能
            2. 要搞清楚浏览器的功能跟网页的区别

### JavaScript书写格式
1. 和CSS书写格式一样, JavaScript也有三种书写格式, 分别是"行内式"、"内嵌式"、"外链式"
2. 和CSS书写格式一样, JavaScript三种书写格式中也推荐大家使用"外链式", 遵守结构、样式、行为分离
3. 代码举例：
    1. 行内式格式(不推荐)
        
        ```
        <div onclick="alert('hello world');">我是div</div>
        ```
    2. 内嵌式格式
        
        ```
        </body>
        ... ...
        <script type="text/javascript">
               alert("hello world");
        </script>
        </body>
        ```
        
        1. 内嵌式注意点
            1. 通常将js代码放在body的最后, 因为HTML是从上至下加载, 而js代码通常是给标签添加交互(操作元素), 所以需要先加载HTML, 否则如果执行js代码时HTML还未被加载, 那么js代码将无法添加交互(操作元素);
            2. HTML页面中出现`<script>`标签后，就会让页面暂停等待脚本的解析和执行。无论当前脚本是内嵌式还是外链式，**页面的下载和渲染都必须停下来等待脚本的执行完成才能继续**, 所以如果把js代码写在head中, 那么js代码没有执行完毕之前后续网页无法查看
            3. 如果不愿意把js代码放在body的最后, 也可以放在head标签中, 但是为了保证执行js代码时HTML一定已经被加载了, 那么需要添加一些额外代码.(不推荐)
                
                ```
                <head>
                    <script>
                        // 等到界面上所有的内容都加载完毕再执行 window.onload
                        window.onload = function(){ //必须有这句话
                            var oDiv = document.querySelector("div");
                            var text = oDiv.innerText;
                            alert(text);
                        }
                    </script>
                </head>
                ```
    3. 外链式格式
        
        ```
        <script type="text/javascript" src="01-js书写格式.js"></script>
        ```
        
        1. 外链式注意点
            1. 外链式的script代码块中不能编写js代码, 即便写了也不会执行
                
                ```
                <script type="text/javascript" src="01-js书写格式.js">
                    alert("hello world"); // 不会被执行
                </script>
                ```
            2. 由于每次加载外链式的js文件都会发送一次请求, 这样非常消耗性能, 所以在企业开发中推荐将多个JS文件合成为一个JS文件,以提升网页的性能和加载速度

### JS中的常见输出日志方式
1. 在JS中，打印日志输出，通常有以下几种方法：
    1. 在控制台中显示内容
        1. 在浏览器的F12下，点击console可以查看日志
        
        ```
        console.log("hello world3");
        console.error("错误信息");
        console.warn("警告信息");
        ```  
    2. 在浏览器弹窗中显示内容
        1. 下面都可以弹出日志内容
        
        ```
        alert("hello world");
        prompt("请输入内容：");
        confirm("你好吗?");
        ```  
    3. 在页面中显示内容
        1. 直接将日志输出在网页页面中显示
        
        ```
        document.write("hello world2");
        ``` 
2. 注意点：
    1. JS中严格区分大小写
        
        ```
        alert("hello world"); // 正确 
        Alert("hello world"); // 错误
        ```
    2. 每一条JS语句以分号(`;`)结尾    
        1. 如果不写分号，浏览器会自动添加，但是会消耗一些系统资源
        2. 并且有些时候浏览器会加错分号，所以在开发中分号**必须写**
    3. JS中会忽略多个空格和换行
        
        ```
        alert
        (
        "hello world"
        ); 
        ``` 

### 注释
1. JavaScript中的注释和C语言一模一样(格式、特点), 也分为单行注释和多行注释

## JS基础语法
1. 常量
    1. 整型常量
        1. 二进制、十进制、八进制、十六进制
    2. 实型常量
        1. 小数
    3. 字符串常量：使用单引号(`'`)或双引号(`"`)括起来的一个或几个字符
    4. 布尔值:布尔常量只有两种状态：true或false
    5. 特殊字符常量
        
        ```
        \n 换行,相当于敲一下回车。
        \t 跳到下一个tab位置,相当于按一下键盘上的tab键。 \b 退格,相当于按一下backspace。
        \r 回车。
        \f 换页,光标移到到下页开头。
        \\ 输出\字符,也就是在屏幕上显示一个\字符。
        \' 输出'字符,也就是在屏幕上显示一个'字符。
        \" 输出"字符,也就是在屏幕上显示一个"字符。
        ```
    6. 自定义常量
        1. ES6中新增，自定义常量:`const 常量名称 = 常量取值;`
            
            ```
            // 定义一个常量：ES6语法
            const num = 666;
            ```
2. 变量
    1. 定义变量
        1. 定义变量(声明变量), 任何变量在使用之前，必须先进行定义
        2. 定义变量的目：在内存中分配一块存储空间给变量，方便以后存储数据。
        3. 如果定义了多个变量，就会为这多个变量分别分配不同的存储空间。
        4. 定义变量的常用格式：
            1. 格式1: `var 变量名称 ;`
            2. 格式2: `var 变量名称,变量名称;`
        5. 注意：
            1. 和C语言不同的是, C语言再定义变量时需要通过数据类型指定变量的类型
            2. 而JavaScript在定义变量时不需要通过数据类型指定变量的类型
            3. 变量的类型会在赋值时自动确定
    2. 使用变量
        1. 用变量就是往变量里面存点东西或者取出变量中存储的内容;
        2. 往变量中存储内容
            
            ```
            var num;
            num = 10;
            ```
        3. 变量的初始化
            1. 变量第一次赋值，可以称为“初始化”
            2. 先定义,后初始化
                
                ```
                var num;
                num = 10;
                ```
            3. 定义的同时进行初始化
                
                ```
                var num = 10;
                ```
            4. 其它表现形式
                
                ```
                 // 部分初始化
                  var a, b, c = 10;
                  // 完全初始化
                  var a , b, c;
                  a = b = c = 10;
                ```
        4. 变量默认值
            1. C语言中变量没有初始化保存的都是垃圾数据
            2. JavaScript中变量没有初始化保存的是undefined
                
                ```
                var num;
                console.log(num); // undefined
                // 如果变量没有初始化, 里面存储的是undefined
                ```


