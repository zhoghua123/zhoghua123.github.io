---
layout: post
title: QT-第五节 Qt消息机制和事件
category: CPP基础
tags: CPP基础
description: CPP基础
--- 

## 消息机制和事件

### 事件
1. 事件（event）是由系统或者 Qt 本身在不同的时刻发出的。当用户按下鼠标、敲下键盘，或者是窗口需要重新绘制的时候，都会发出一个相应的事件。一些事件在对用户操作做出响应时发出，如键盘事件等；另一些事件则是由系统自动发出，如计时器事件。
2. 在前面我们也曾经简单提到，Qt 程序需要在main()函数创建一个QApplication对象，然后调用它的exec()函数。这个函数就是开始 Qt 的事件循环。在执行exec()函数之后，程序将进入事件循环来监听应用程序的事件。
    1. 当事件发生时，Qt 将创建一个事件对象。**Qt 中所有事件类都继承于QEvent**
    2. 在事件对象创建完毕后，Qt 将这个事件对象传递给QObject的event()函数。
    3. event()函数**并不直接处理事件，而是按照事件对象的类型分派给特定的事件处理函数**（event handler），关于这一点，会在后边详细说明。
3. 在所有组件的父类QWidget中，定义了很多事件处理的回调函数，如
    
    ```
    keyPressEvent()
    keyReleaseEvent()
    mouseDoubleClickEvent()
    mouseMoveEvent()
    mousePressEvent()
    mouseReleaseEvent() 等。
    ```
4. 这些函数都是 protected virtual 的，也就是说，我们可以在子类中重新实现这些函数。下面来看一个例子：



