---
layout: post
title: 第十四章 STL第一节
category: CPP基础
tags: CPP基础
description: CPP基础
---   

## STL(标准模板库)理论基础

###  基本概念
1. STL（Standard Template Library，标准模板库)是惠普实验室开发的一系列**软件**的统称。现然主要出现在C++中，但在被引入C++之前该技术就已经存在了很长的一段时间。
2. STL的从广义上讲分为三类：algorithm（算法）、container（容器）和iterator（迭代器），容器和算法通过迭代器可以进行无缝地连接。
3. 几乎所有的代码都采 用了模板类和模板函数的方式，这相比于传统的由函数和类组成的库来说提供了更好的代码重用机会。
4. 在C++标准中，STL被组织为下面的13个头文 件：<algorithm>、<deque>、<functional>、<iterator>、<vector>、<list>、<map>、<memory>、<numeric>、<queue>、<set>、<stack> 和<utility>。
    
    ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/cpp28.png)
5. STL详细的说六大组件
    1. 容器（Container）
    2. 算法（Algorithm）
    3. 迭代器（Iterator）
    4. 仿函数（Function object）
    5. 适配器（Adaptor）
    6. 空间配制器（allocator）
6. 使用STL的好处 
    1. STL是C++的一部分，因此不用额外安装什么，它被内嵌在你的编译器之内
    2. STL的一个重要特点是数据结构和算法的分离。尽管这是个简单的概念，但是这种分离确实使得STL变得非常通用。
    3. 程序员可以不用思考STL具体的实现过程，只要能够熟练使用STL就OK了。这样他们就可以把精力放在程序开发的别的方面。
    4. STL具有高可重用性，高性能，高移植性，跨平台的优点。
        1. 高可重用性：STL中几乎所有的代码都采用了模板类和模版函数的方式实现，这相比于传统的由函数和类组成的库来说提供了更好的代码重用机会。
        2. 高性能：如map可以高效地从十万条记录里面查找出指定的记录，因为map是采用红黑树的变体实现的。(红黑树是平横二叉树的一种)
        3. 高移植性：如在项目A上用STL编写的模块，可以直接移植到项目B上。
        4. 跨平台：如用windows的Visual Studio编写的代码可以在Mac OS的XCode上直接编译。
7. 代码举例：
    
    ```
    #include<iostream>
    using namespace std;
     
    //导入vector容器
    #include"vector"
    //导入算法：
    #include"algorithm"
    
    
    void test() {
    	//定义一个容器，存储整形数据
    	vector<int> v1;
    	//往容器中添加数据
    	v1.push_back(1);
    	v1.push_back(2);
    	v1.push_back(3);
    	v1.push_back(3);
    	v1.push_back(-1);
    
    	//通过迭代器访问容器
    	//迭代器就相当于一个指针
    	for (vector<int> ::iterator it = v1.begin(); it != v1.end();it++) {
    		cout << *it << endl;
    	}
    
    	//3. 算法(查找3的个数)
    	//算法和迭代器可以进行无缝连接
    	int num1 = count(v1.begin(), v1.end(), 3);
    
    	cout << "num1 = " << num1 << endl;
    }
    
    class Teacher {
    public:
    	int age;
    	char name[64];
    	void printT() {
    		cout << "age =" << age << endl;
    	}
    };
    
    void test2(){
    	Teacher t1, t2, t3;
    	t1.age = 26;
    	t2.age = 27;
    	t3.age = 28;
    	vector<Teacher> v1;
    	v1.push_back(t1);
    	v1.push_back(t2);
    	v1.push_back(t3);
    	//通过迭代器访问容器
        //迭代器就相当于一个指针
    	//数据结构和算法的分离
    	for (vector<Teacher> ::iterator it = v1.begin(); it != v1.end(); it++) {
    		cout << it->age << endl;
    	}
    }
    int main() {
    	test();
    	test2();
    	cout << "hello world！" << endl;
    	getchar();
    	return 0;
    }
    ```
    
### 容器 
1. 简介
    1. 经典的数据结构数量有限，但是我们常常重复着一些为了实现向量、链表等结构而编写的代码，这些代码都十分相似，只是为了适应不同数据的变化而在 细节上有所出入
    2. STL容器就为我们提供了这样的方便，它允许我们重复利用已有的实现构造自己的特定类型下的数据结构，通过设置一些**模板**，STL容器对最常用的数据结构提供了支持，这些**模板的参数**允许我们指定容器中元素的数据类型，可以将我们许多重复而乏味的工作简化。
    3. 容器部分主要由头文件<vector>,<list>,<deque>,<set>,<map>,<stack> 和<queue>组成。
    4. 容器的概念：**用来管理一组元素** 

