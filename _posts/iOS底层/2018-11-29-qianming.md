---
layout: post
title: iOS的签名机制
category: iOS底层
tags: iOS的签名机制
description: iOS的签名机制
---

## 学习路线
1. 加密解密
    1. 对称密码（DES、3DES、AES）
    2. 公钥密码（RSA）
2. 单向散列函数
    1. MD4、MD5
    2. SHA-1、SHA-2、SHA-3
3. 数字签名
4. 证书
5. iOS签名机制

## 基础知识
1. 常见英文
    1. encrypt：加密
    2. decrypt：解密
    3. plaintext：明文
    4. ciphertext：密文
2. 密码的类型
    1. 根据密钥的使用方法，可以将密码分为2种
        1. 对称密码
        2. 公钥密码（非对称密码）
    2. 如下图：     
        ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming01.png) 
        ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming02.png) 

## 对称密码（Symmetric Cryptography） 
1. 在对称密码中，加密、解密时使用的是同一个密钥
2. 常见的对称密码算法有
    1. DES
    2. 3DES
    3. AES

![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming03.png) 

### DES（Data Encryption Standard） 
![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming04.png)

1. DES是一种将64bit明文加密成64bit密文的对称密码算法，密钥长度是56bit
2. 规格上来说，密钥长度是64bit，但每隔7bit会设置一个用于错误检查的bit，因此密钥长度实质上是56bit
3. 由于DES每次只能加密64bit的数据，遇到比较大的数据，需要对DES加密进行迭代（反复）
    1. 就是把数据分组进行加密
4. 目前已经可以在短时间内被破解，所以不建议使用

### 3DES 
1. 3DES，将DES重复3次所得到的一种密码算法，也叫做3重DES
2. 目前还被一些银行等机构使用，但处理速度不高，安全性逐渐暴露出问题
3. DES-EDE3
    1. 3个密钥都是不同的，也称为DES-EDE3
        ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming05.png)
4. 如果密钥1、密钥3相同，密钥2不同，称为DES-EDE2
5. 如果所有密钥都使用同一个，则结果与普通的DES是等价的
    ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming06.png)

### AES（Advanced Encryption Standard）
1. 取代DES成为新标准的一种对称密码算法
2. AES的密钥长度有128、192、256bit三种
3. 在2000年时选择Rijindael算法作为AES的实现
4. 目前AES，已经逐步取代DES、3DES，成为首选的对称密码算法
5. 一般来说，我们也不应该去使用任何自制的密码算法，而是应该使用AES，它经过了全世界密码学家所进行的高品质验证工作

## 密钥配送
1. 密钥配送问题 
    1. 在使用对称密码时，一定会遇到密钥配送问题
    2. 假设，Alice将使用对称密码加密过的消息发给了Bob
    3. 只有将密钥发送给Bob，Bob才能完成解密
    4. 在发送密钥过程中，可能会被Eve窃取密钥，最后Eve也能完成解密
    
    ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming07.png)
2. 如何解决密钥配送问题 
    1. 事先共享密钥
    2. 密钥分配中心
    3. Diffie-Hellman密钥交换
    4. 公钥密码（非对称密码）

## 公钥密码（Public-key Cryptography） 
1. 公钥密码中，密钥分为加密密钥、解密密钥2种，它们并不是同一个密钥
2. 公钥密码也被称为非对称密码（Asymmetric Cryptography）
3. 在公钥密码中
    1. 加密密钥，一般是**公开**的，因此该密钥称为公钥（public key）
        1. 比如任何人都可以通过这个公钥加密发消息给我
    2. 解密密钥，由消息接收者自己保管的，**不能公开**，因此也称为私钥（private key）
    3. 公钥和私钥是一 一对应的，是不能单独生成的，一对公钥和密钥统称为密钥对（key pair）
    4. 由公钥加密的密文，必须使用与该公钥对应的私钥才能解密
    5. 由私钥加密的密文，必须使用与该私钥对应的公钥才能解密
    
    ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming08.png)
4. 解决密钥配送问题 
    1. 由消息的接收者，生成一对公钥、私钥
    2. 将公钥发给消息的发送者
    3. 消息的发送者使用公钥加密消息
        
        ![图1](https://raw.githubusercontent.com/zhoghua123/imgsBed/master/qianming09.png)
5. 为何叫公钥密码呢？
    1. 因为用于加密的钥匙是公开的


